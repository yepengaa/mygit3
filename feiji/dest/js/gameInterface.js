var gameEngine={ele:null,allMyBullet:{},allFoeBullet:{},allEnemy:{},result:0,init:function(){return gameEngine.ele=document.getElementById("load"),this},state:function(){gameEngine.upload()},upload:function(){var e=document.createElement("div");e.className="toplogo",this.ele.appendChild(e);var l=document.createElement("div");l.className="progress",this.ele.appendChild(l);var n=1,a=setInterval(function(){4==++n&&(clearInterval(a),e.remove(),l.remove(),myPlane.init().move(),myPlane.boom(),gameEngine.createEnemy(),gameEngine.crash(),gameEngine.backgroundimg()),l.style.backgroundImage="url(images/loading"+n+".png)"},600)},createEnemy:function(){setInterval(function(){if(Math.random()>.4){var e=new FoePlane;e.init("enemy_smallPlane").move(),e.foebullet()}},2e3),setInterval(function(){if(Math.random()>.5){var e=new FoePlane;e.init("enemy_middlePlane").move(),e.foebullet()}},3e3),setInterval(function(){if(Math.random()>.7){var e=new FoePlane;e.init("enemy_maxPlane").move(),e.foebullet()}},4e3)},crash:function(){var e=!1;setInterval(function(){for(var l in gameEngine.allEnemy){for(var n in gameEngine.allMyBullet)isCrash(gameEngine.allEnemy[l].ele,gameEngine.allMyBullet[n].ele)&&(gameEngine.allEnemy[l].hurt(),gameEngine.allMyBullet[n].boom(),delete gameEngine.allMyBullet[n]);if(!e&&isCrash(gameEngine.allEnemy[l].ele,myPlane.ele)){e=!0,gameEngine.allEnemy[l].boom(),myPlane.boomBullet();var a=setTimeout(function(){var e=prompt("你的分数是:"+gameEngine.result+" 请输入你的大名");e?ajax({type:"post",url:"http://60.205.181.47/myPHPCode4/uploadScore.php",data:{name:e,score:gameEngine.result},async:!0,success:function(e){location.href="list.html"}}):location.reload(),clearTimeout(a)},300)}}for(var t in gameEngine.allFoeBullet){for(var o in gameEngine.allMyBullet)isCrash(gameEngine.allFoeBullet[t].bulls,gameEngine.allMyBullet[o].ele)&&(gameEngine.allFoeBullet[t].bulletBoom(),delete gameEngine.allFoeBullet[t],gameEngine.allMyBullet[o].boom(),delete gameEngine.allMyBullet[o]);if(!e&&isCrash(gameEngine.allFoeBullet[t].bulls,myPlane.ele)){e=!0,gameEngine.allFoeBullet[t].bulletBoom(),myPlane.boomBullet();var i=setTimeout(function(){var e=prompt("你的分数是:"+gameEngine.result+" 请输入你的大名");e?ajax({type:"post",url:"http://60.205.181.47/myPHPCode4/uploadScore.php",data:{name:e,score:gameEngine.result},async:!0,success:function(e){location.href="list.html"}}):location.reload(),clearTimeout(i)},300)}}},30)},backgroundimg:function(){var e=0;setInterval(function(){e++,gameEngine.ele.style.backgroundPositionY=e+2+"px"},40)}};