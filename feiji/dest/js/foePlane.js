"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var l=0;l<t.length;l++){var i=t[l];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,l,i){return l&&e(t.prototype,l),i&&e(t,i),t}}(),FoePlane=function(){function e(t){_classCallCheck(this,e),this.ele=document.createElement("div"),this.id=parseInt(1e4*Math.random()),this.Ph=0,this.speed=10,this.imgs=[],this.score=0}return _createClass(e,[{key:"init",value:function(e){if(gameEngine.allEnemy[this.id]=this,gameEngine.ele.appendChild(this.ele),"enemy_smallPlane"==e){this.ele.className="small_plane";var t=[1,10,5];this.Ph=t[0],this.speed=t[1],this.score=t[2],this.imgs=["images/plane1_die1.png","images/plane1_die2.png","images/plane1_die3.png"]}else if("enemy_middlePlane"==e){this.ele.className="middle_plane";var l=[3,4,20];this.Ph=l[0],this.speed=l[1],this.score=l[2],this.imgs=["images/plane2_die1.png","images/plane2_die2.png","images/plane2_die3.png","images/plane2_die4.png"]}else if("enemy_maxPlane"==e){this.ele.className="max_plane";var i=[10,2,40];this.Ph=i[0],this.speed=i[1],this.score=i[2],this.imgs=["images/plane3_die1.png","images/plane3_die2.png","images/plane3_die3.png","images/plane3_die4.png","images/plane3_die5.png","images/plane3_die6.png"]}return this.ele.style.top=0,this.ele.style.left=parseInt(Math.random()*(gameEngine.ele.offsetWidth-this.ele.offsetWidth))+"px",this}},{key:"move",value:function(){var e=this;return this.timer=setInterval(function(){var t=e.ele.offsetTop+e.speed;t>gameEngine.ele.offsetHeight&&(gameEngine.ele.removeChild(e.ele),clearInterval(e.timer),delete gameEngine.allEnemy[e.id]),e.ele.style.top=t+"px"},50),this}},{key:"hurt",value:function(){return 0==--this.Ph&&(this.boom(),gameEngine.result+=this.score),this}},{key:"boom",value:function(){clearInterval(this.timer);var e=this,t=0,l=setInterval(function(){t>e.imgs.length?(clearInterval(l),gameEngine.ele.removeChild(e.ele),delete gameEngine.allEnemy[e.id]):e.ele.style.backgroundImage="url("+e.imgs[t++]+")"},100);return this}},{key:"foebullet",value:function(){return this.bulls=document.createElement("div"),this.figure=parseInt(1e5*Math.random()),gameEngine.allFoeBullet[this.figure]=this,gameEngine.ele.appendChild(this.bulls),this.bulls.className="bullets",this.bulls.style.left=this.ele.offsetLeft+this.ele.offsetWidth/2+"px",this.bulls.style.top=this.ele.offsetTop+this.ele.offsetHeight+"px",this.movebullet(),this}},{key:"movebullet",value:function(){var e=this;return this.bullettimer=setInterval(function(){var t=e.bulls.offsetTop+5;t>gameEngine.ele.offsetHeight&&(clearInterval(e.bullettimer),gameEngine.ele.removeChild(e.bulls),delete gameEngine.allFoeBullet[e.figure]),e.bulls.style.top=t+"px"},50),this}},{key:"bulletBoom",value:function(){clearInterval(this.bullettimer),this.ele.className="bullets_bomb";var e=this,t=1,l=setInterval(function(){++t>2&&(clearInterval(l),gameEngine.ele.removeChild(e.bulls),delete gameEngine.allFoeBullet[e.figure]),e.ele.style.backgroundImage="images/die"+t+".png"},60)}}]),e}();